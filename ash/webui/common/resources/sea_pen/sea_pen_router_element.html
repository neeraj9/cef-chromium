<style>
  #seaPenContainer {
    display: grid;
    grid-template-areas:
      'leftspacertop    selected  rightspacertop'
      'leftspacerbottom imagegrid rightspacerbottom';
    grid-template-columns: minmax(10px, 1fr) minmax(568px, 920px) minmax(10px, 1fr);
    grid-template-rows: auto minmax(0, 1fr);
    height: 100%;
    min-height: var(--sea-pen-router-min-height);
    position: relative;
    width: 100%;
  }

  sea-pen-input-query,
  sea-pen-template-query,
  ::slotted(wallpaper-selected) {
    background-color: var(--cros-sys-app_base_shaded);
    grid-area: selected;
    height: 172px;
    position: sticky;
    top: 56px;
    z-index: 1;
  }

  #seaPenBottomContainer {
    background-color: var(--cros-bg-color);
    grid-area: imagegrid;
    padding: 10px 0;
  }

  div[class$='spacertop'] {
    background-color: var(--cros-sys-app_base_shaded);
    position: sticky;
    top: 56px;
    z-index: 1;
  }

  .leftspacertop {
    grid-area: leftspacertop;
  }

  .rightspacertop {
    grid-area: rightspacertop;
  }

  div[class$='spacerbottom'] {
    background-color: var(--cros-bg-color);
  }

  .leftspacerbottom {
    border-radius: 12px 0 0 12px;
    grid-area: leftspacerbottom;
  }

  .rightspacerbottom {
    border-radius: 0 12px 12px 0;
    grid-area: rightspacerbottom;
  }
</style>

<div id="seaPenContainer">
  <iron-location path="{{path_}}" query="{{query_}}" dwell-time="200">
  </iron-location>
  <iron-query-params params-object="{{queryParams_}}" params-string="{{query_}}">
  </iron-query-params>
  <!-- Prevent left margin from collapsing on narrow window in RTL -->
  <div class="leftspacertop"></div>
  <div class="leftspacerbottom"></div>
  <slot></slot>
  <template is="dom-if" if="[[shouldShowTextInputQuery_(relativePath_, queryParams_.seaPenTemplateId)]]">
    <sea-pen-input-query path="[[relativePath_]]"></sea-pen-input-query>
  </template>
  <template is="dom-if" if="[[shouldShowTemplateQuery_(relativePath_, queryParams_.seaPenTemplateId)]]">
    <sea-pen-template-query template-id="[[queryParams_.seaPenTemplateId]]" path="[[relativePath_]]">
    </sea-pen-template-query>
  </template>
  <div id="seaPenBottomContainer">
    <template is="dom-if" if="[[shouldShowSeaPenRoot_(relativePath_)]]" restamp>
      <sea-pen-templates></sea-pen-templates>
      <sea-pen-recent-wallpapers></sea-pen-recent-wallpapers>
    </template>
    <template is="dom-if" if="[[shouldShowSeaPenImages_(relativePath_)]]">
      <sea-pen-images template-id="[[getTemplateIdFromQueryParams_(queryParams_.seaPenTemplateId)]]">
      </sea-pen-images>
    </template>
  </div>
  <template is="dom-if" if="[[showSeaPenTermsOfServiceDialog_]]" restamp>
    <sea-pen-terms-of-service-dialog
        on-sea-pen-terms-dialog-accept="onAcceptSeaPenTerms_">
    </sea-pen-terms-of-service-dialog>
  </template>
  <!-- Prevent the right margin from collapsing when window gets very narrow -->
  <div class="rightspacertop"></div>
  <div class="rightspacerbottom"></div>
</div>
